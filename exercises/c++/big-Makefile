#CXX=$(CXX:gcc)
CXXFLAGS=-O2 -std=c++11 -ggdb

.PHONY: all clean

all: clean main
	echo "--->"
	LD_LIBRARY_PATH=.:${LD_LIBRARY_PATH} ./main

main: main.cxx libbig.so
	$(CXX) -o main main.cxx -L. -lbig $(CXXFLAGS)

libbig.so: big.cxx
	$(CXX) $(CXXFLAGS) -o libbig.so -fPIC -shared  big.cxx

clean:
	/bin/rm -f lib*.so
	/bin/rm -f main
